{% extends "base.html" %}

{% block title %}Maps for collection{% endblock %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block content %}

	<h3 align="center"> {{maps.dataset_id}}</h3>

	<div class="row">
		<div class="row" id="cfk-maps-box">
			<h4>Edit GCMD keywords from CF variable</h4>

			<form method="POST" action="/_update_cfk_map/{{ maps.unique_name }}" id="update_cfk_map">

			<div class="div-list-group">
				{% for v, gcmds in maps['cfk'].iteritems() %}
					{% set outerLoopIndex = loop.index %}
					<div class="list-group" id="cfkEdit-{{outerLoopIndex}}">
						<br>
						<div class="keyword-inline-variable">{{v}}</div>
						{% for gcmd in gcmds %}
							<a class="list-group-item" id="cfk-innerlistEdit-{{outerLoopIndex}}-{{loop.index}}">
								<select name="cfkEdit-{{outerLoopIndex}}-{{v}}">
						    	<option value="{{ gcmd }}" selected>{{ gcmd }} </option>
								</select>
								<input type="button" id="cfkremoveButtonEdit-{{outerLoopIndex}}-{{loop.index}}" value="x" class="btn btn-xs btn-danger" />
							</a>
						{% endfor %}
					</div>
				{% endfor %}
			</div>
			<br>
			<input type="submit" value="Save" class="btn btn-success">
			</form>
		</div>
	</div>
	<br/>


{% endblock %}